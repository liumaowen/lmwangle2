<div class="content-heading">
  <em class="fa fa-book"></em> 质押金收款登记单
  <div class="pull-right">
    <button *ngIf="model['isv']" type="button" (click)="tuizhiyajin(model['id'])"
      class="btn btn-sm margin-top-bottom-25" style="background-color:red;border-color:red;color:#ffffff;">退质押金
    </button>
    <button *ngIf="model['isv']" type="button" (click)="zhiyajintoqiankuan(model['id'])"
      class="btn btn-info btn-sm margin-top-bottom-25" style="background-color:red;border-color:red;color:#ffffff;">质押金冲抵欠款
    </button>
  </div>
</div>

<div class="panel panel-default wis-auto">
  <div class=" col-lg-6 col-md-6 fieldsetdnn">
    <div class="row">
      <div class="col-md-4 col-xs-6 form-control-static">编号:</div>
      <div class="col-md-8 col-xs-6 form-control-static">
        <input type="text" [(ngModel)]="model['billno']" class="form-control" disabled="disabled" />
      </div>
    </div>
  </div>
  <div class=" col-lg-6 col-md-6 fieldsetdnn">
    <div class="row">
      <div class="col-md-4 col-xs-6 control-label form-control-static">客户单位:</div>
      <div class="col-md-8 col-xs-6 form-control-static">
        <input type="text" [(ngModel)]="shoukuan['paycustomer']['name']" class="form-control" disabled="disabled" />
      </div>
    </div>
  </div>
  
  <div class=" col-lg-6 col-md-6 fieldsetdnn">
    <div class="row">
      <div class="col-md-4 col-xs-6 control-label form-control-static">金额:</div>
      <div class="col-md-8 col-xs-6 form-control-static">
        <input type="text" [(ngModel)]="model['jine']" class="form-control" required [disabled]="model['isv']" />
      </div>
    </div>
  </div>
  <div class=" col-lg-6 col-md-6 fieldsetdnn">
    <div class="row">
      <div class="col-md-4 col-xs-6 control-label form-control-static">收款公司:</div>
      <div class="col-md-8 col-xs-6 form-control-static">
        <p-dropdown [options]="wiskind" [(ngModel)]="shoukuan['receivecustomerid']"
         [style]="{'width':'100%'}" (onChange)="getreceivebank(shoukuan['receivecustomerid'])"
          [disabled]="model['isv']"></p-dropdown>
      </div>
    </div>
  </div>
  <div *ngIf="ngflag['select']" class=" col-lg-6 col-md-6 fieldsetdnn">
    <div class="row">
      <div class="col-md-4 col-xs-6 control-label form-control-static">收款银行:</div>
      <div class="col-md-8 col-xs-6 form-control-static">
        <p-dropdown [options]="receivebanks" [(ngModel)]="shoukuan['shoukuanbankid']"
         [style]="{'width':'100%'}" (onChange)="getcardno1(shoukuan['shoukuanbankid'])"
          [disabled]="model['isv']"></p-dropdown>
      </div>
    </div>
  </div>

  <div *ngIf="ngflag['text']" class=" col-lg-6 col-md-6 fieldsetdnn">
    <div class="row">
      <div class="col-md-4 col-xs-6 control-label form-control-static">收款银行:</div>
      <div class="col-md-8 col-xs-6 form-control-static">
        <input type="text" [(ngModel)]="shoukuan['shoukuanbankname']" class="form-control" disabled="disabled" required />
      </div>
    </div>
  </div>
  <div class=" col-lg-6 col-md-6 fieldsetdnn">
    <div class="row">
      <div class="col-md-4 col-xs-6 control-label form-control-static">收款账户:</div>
      <div class="col-md-8 col-xs-6 form-control-static">
        <input type="text" [(ngModel)]="shoukuan['shoukuanaccount']" class="form-control" disabled="disabled" required />
      </div>
    </div>
  </div>
  <div class=" col-lg-6 col-md-6 fieldsetdnn">
    <div class="row">
      <div class="col-md-4 col-xs-6 control-label form-control-static">创建人:</div>
      <div class="col-md-8 col-xs-6 form-control-static">
        <span class="form-control" disabled="disabled">{{model | agentuser}}</span>
      </div>
    </div>
  </div>
  <div class=" col-lg-6 col-md-6 fieldsetdnn">
    <div class="row">
      <div class="col-md-4 col-xs-6 control-label form-control-static">收款机构:</div>
      <div class="col-md-8 col-xs-6 form-control-static">
        <input type="text" [(ngModel)]="model['org']['name']" class="form-control" disabled="disabled" />
      </div>
    </div>
  </div>
  <div class=" col-lg-6 col-md-6 fieldsetdnn">
    <div class="row">
      <div class="col-md-4 col-xs-6 control-label form-control-static">收款类型:</div>
      <div class="col-md-8 col-xs-6 form-control-static">
        <p-dropdown [options]="shoukuantypes" [(ngModel)]="shoukuan['shoukuantype']"
         [style]="{'width':'100%'}" [disabled]="model['isv']">
        </p-dropdown>
      </div>
    </div>
  </div>
  <div class=" col-lg-6 col-md-6 fieldsetdnn">
    <div class="row">
      <div class="col-md-4 col-xs-6 control-label form-control-static">备注:</div>
      <div class="col-md-8 col-xs-6 form-control-static">
        <input type="text" [(ngModel)]="model['beizhu']" class="form-control" [disabled]="model['isv']" />
      </div>
    </div>
  </div>
  <div class=" col-lg-6 col-md-6 fieldsetdnn">
    <div class="row">
      <div class="col-md-4 col-xs-6 control-label form-control-static">收款时间:</div>
      <div class="col-md-8 col-xs-6 form-control-static">
        <p-calendar [(ngModel)]="actualdatetime" placeholder="收款时间" [maxDate]="endmax"></p-calendar>
      </div>
    </div>
  </div>
  <div class=" col-lg-6 col-md-6 fieldsetdnn">
    <div class="row">
      <div class="col-md-4 col-xs-6 control-label form-control-static">创建时间:</div>
      <div class="col-md-8 col-xs-6 form-control-static">
        <input type="text" [(ngModel)]="model['cdate']" class="form-control" disabled="disabled" />
      </div>
    </div>
  </div>
  <div class=" col-lg-6 col-md-6 fieldsetdnn">
    <div class="row">
      <div class="col-md-4 col-xs-6 control-label form-control-static">审核人:</div>
      <div class="col-md-8 col-xs-6 form-control-static">
        <span class="form-control" disabled>
          {{model.vuser?model.vuser['realname']:''}}
        </span>
      </div>
    </div>
  </div>
  <div class=" col-lg-6 col-md-6 fieldsetdnn">
    <div class="row">
      <div class="col-md-4 col-xs-6 control-label form-control-static">质押公司:</div>
      <div class="col-md-8 col-xs-6 form-control-static">
        {{model['actualcustomer']['name']}}
      </div>
    </div>
  </div>

  <div class=" col-lg-6 col-md-6 fieldsetdnn">
    <div class="row">
      <div class="col-md-4 col-xs-6 control-label form-control-static">会计科目:</div>
      <div class="col-md-8 col-xs-6 form-control-static">
        <p-dropdown [options]="kuaijikemus" [(ngModel)]="shoukuan['kuaijikemu']"  [style]="{'width':'100%'}"
          [disabled]="model['isv']?true:!flag['audit']"></p-dropdown>
        <p style="color:red;padding-left: 10px;">财务人员填写！</p>
      </div>
    </div>
  </div>
</div>


<toaster-container></toaster-container>


<!--创建银行弹窗-->
<div class="modal" bsModal #createModal="bs-modal" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" aria-label="Close" (click)="hidecreateModal()">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title">创建</h4>
      </div>
      <div class="modal-body">
        <div class="panel panel-default">
          <div class="panel-body">
            <div class="form-group mb fieldsetdnn col-sm-12 col-md-6">
              <label class="col-sm-3 control-label">客户银行</label>
              <div class="col-sm-9">
                <input type="text" placeholder="请输入客户银行名称" [(ngModel)]="bank['bank']" class="form-control" required />
              </div>
            </div>
            <div class="form-group mb fieldsetdnn col-sm-12 col-md-6">
              <label class="col-sm-3 control-label">银行支行</label>
              <div class="col-sm-9">
                <input type="text" placeholder="请输入银行所在支行" [(ngModel)]="bank['branch']" class="form-control" required />
              </div>
            </div>
            <div class="form-group mb fieldsetdnn col-sm-12 col-md-6">
              <label class="col-sm-3 control-label">客户账号</label>
              <div class="col-sm-9">
                <input type="text" placeholder="请输入客户银行账号" [(ngModel)]="bank['account']" class="form-control"
                  required />
              </div>
            </div>
          </div>
        </div>
        <div class="form-inline text-center">
          <button type="button" (click)="addbankaccount()" class="btn btn-primary btn-large">创建</button>
        </div>
      </div>
      <!-- </form> -->
    </div>
  </div>
</div>