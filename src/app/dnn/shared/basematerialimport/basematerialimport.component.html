<div class="modal-header">
  <h4 class="modal-title pull-left"> 引入基料</h4>
  <div class="pull-right">
    <button type="button" class="close pull-right" aria-label="Close" (click)="bsModalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
    <button type="button" class="btn btn-info btn-bloc" (click)="checkAll()">全选</button>
    <button type="button" class="btn btn-info btn-bloc" (click)="add()">引入</button>
  </div>
</div>
<div class="modal-body">
  <ag-grid-angular [ngStyle]="{'height': (settings.bodyHeight - 160)+'px'}" #agGrid
    style="width: 100%;height:100%;margin:0;" class="ag-blue" [gridOptions]="bmgridOptions">
  </ag-grid-angular>
</div>
<div class="modal-footer">
  <!--<div class="form-inline text-center">
    <button type="button" class="btn btn-info btn-bloc" (click)="openclassicmodal()">查询</button>
    &lt;!&ndash; <button type="button" class="btn btn-info btn-bloc" (click)="checkAll()">全选</button> &ndash;&gt;
    <button type="button" class="btn btn-info btn-bloc" (click)="import()">引入</button>
  </div>-->
</div>
<toaster-container>
</toaster-container>
<div class="modal" bsModal #createModal="bs-modal" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-xs">
    <div class="modal-content">
      <div class="modal-header">
        <button class="close" type="button" aria-label="Close" (click)="closeq()">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title">填写加工信息</h4>
      </div>
      <div class="modal-body">
        <div class="panel panel-default">
          <div class="panel-body">
            <div class="row fieldsetdnn">
              <label class="col-sm-2 control-label">加工类型</label>
              <div class="col-sm-10">
                <ng-select [allowClear]="true" [items]="types" (selected)="selectetype($event)" placeholder="请选择加工类型">
                </ng-select>
              </div>
            </div>
            <div class="row fieldsetdnn" *ngIf="!iszong">
              <label class="col-sm-2 control-label">横切规格</label>
              <div class="col-sm-10">
               <!-- <span *ngIf="parentthis['tasklist']['producemode'] === 3">{{parentthis['weishihoudu']}}*{{parentthis['weishiwidth']}}*</span>  -->
                <input type="text" name="guige" [(ngModel)]="taskjson['guige']" class="form-control" placeholder="请输入数字。可填写多个，规格间用英文,分隔">
              </div>
            </div>
            <div class="row fieldsetdnn" *ngIf="!iszong">
              <label class="col-sm-2 control-label">横切数量</label>
              <div class="col-sm-10">
                <input type="text" name="guige" [(ngModel)]="taskjson['hengqieaccount']" class="form-control">
              </div>
            </div>
            <div class="row fieldsetdnn">
              <label class="col-sm-2 control-label">打包要求</label>
              <div class="col-sm-10">
                <input type="text" name="yaoqiu" [(ngModel)]="taskjson['yaoqiu']" class="form-control">
              </div>
            </div>
            <!-- <div class="row fieldsetdnn">
              <label class="col-sm-2 control-label">打包吨位</label>
              <div class="col-sm-10">
                <input type="number" name="packton" [(ngModel)]="taskjson['packton']" class="form-control">
              </div>
            </div> -->
            <div class="row fieldsetdnn">
              <label class="col-sm-2 control-label">备注</label>
              <div class="col-sm-10">
                <input type="text" name="beizhu" [(ngModel)]="taskjson['beizhu']" class="form-control">
              </div>
            </div>
            <div class="row fieldsetdnn" *ngIf="iszong">
              <label class="col-sm-2 control-label">纵剪规格</label>
              <div class="col-sm-3">
                <input type="number" name="slittingguige" [(ngModel)]="slitjson['slittingguige']" class="form-control">
              </div>
              <label class="col-sm-2 control-label">纵剪数量</label>
              <div class="col-sm-3">
                <input type="number" name="slittingcount" [(ngModel)]="slitjson['slittingcount']" class="form-control">
              </div>
              <button type="button" (click)="addslit()" class="btn btn-primary btn-small">添加</button>
            </div>
            <div class="row fieldsetdnn" *ngIf="iszong">
              <div *ngFor="let item of slitlist;let i = index">
                <div class="col-sm-5" style="padding-left:30px;">
                  {{item['slittingguige']}}
                </div>
                <div class="col-sm-5" style="padding-left:40px;">
                  {{item['slittingcount']}}
                </div>
                <a (click)="delitem(i)">删除</a>
              </div>
            </div>
            <div class="row fieldsetdnn">
                <label class="col-sm-2 control-label">加工费</label>
                <div class="col-sm-8">
                  <input type="number" name="fee" [(ngModel)]="taskjson['fee']" class="form-control" placeholder="{{iszong?'请输入加工费':'请输入加工费'}}">
                  <!-- placeholder="{{iszong?'请点击右边按钮自动匹配加工费':'请输入加工费'}}" -->
                </div>
                <!-- <div class="col-sm-2" *ngIf="iszong">
                    <button type="button" (click)="pipeifee()" class="btn btn-primary btn-small">匹配</button>
                </div> -->
            </div>
          </div>
        </div>
        <div class="form-inline text-center">
          <button type="button" (click)="importBm()" class="btn btn-primary btn-large">引入</button>
        </div>
      </div>
    </div>
  </div>
</div>
